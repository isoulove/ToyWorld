{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { atom, useRecoilState } from \"recoil\";\nimport * as fcl from \"@onflow/fcl\";\nexport const currentUser = atom({\n  key: \"CURRENT_USER\",\n  default: {\n    addr: null,\n    loggedIn: null,\n    cid: null\n  }\n});\nconst tools = {\n  logIn: fcl.logIn,\n  logOut: fcl.unauthenticate,\n  signUp: fcl.signUp,\n  changeUser: fcl.reauthenticate\n};\nexport function useCurrentUser() {\n  _s();\n\n  const [user, setUser] = useRecoilState(currentUser);\n  useEffect(() => fcl.currentUser().subscribe(setUser), [setUser]);\n  return [user, user.addr != null, tools];\n}\n\n_s(useCurrentUser, \"vwAWJTpHuwHdvzHFmiYagoAWOSM=\", false, function () {\n  return [useRecoilState];\n});","map":{"version":3,"sources":["/Users/wuchao/flow/nft/ToyWorld/web/src/hooks/use-current-user.hook.js"],"names":["useEffect","atom","useRecoilState","fcl","currentUser","key","default","addr","loggedIn","cid","tools","logIn","logOut","unauthenticate","signUp","changeUser","reauthenticate","useCurrentUser","user","setUser","subscribe"],"mappings":";;AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,SAAQC,IAAR,EAAcC,cAAd,QAAmC,QAAnC;AACA,OAAO,KAAKC,GAAZ,MAAqB,aAArB;AAEA,OAAO,MAAMC,WAAW,GAAGH,IAAI,CAAC;AAC9BI,EAAAA,GAAG,EAAE,cADyB;AAE9BC,EAAAA,OAAO,EAAE;AAACC,IAAAA,IAAI,EAAE,IAAP;AAAaC,IAAAA,QAAQ,EAAE,IAAvB;AAA6BC,IAAAA,GAAG,EAAE;AAAlC;AAFqB,CAAD,CAAxB;AAKP,MAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAER,GAAG,CAACQ,KADC;AAEZC,EAAAA,MAAM,EAAET,GAAG,CAACU,cAFA;AAGZC,EAAAA,MAAM,EAAEX,GAAG,CAACW,MAHA;AAIZC,EAAAA,UAAU,EAAEZ,GAAG,CAACa;AAJJ,CAAd;AAOA,OAAO,SAASC,cAAT,GAA0B;AAAA;;AAC/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjB,cAAc,CAACE,WAAD,CAAtC;AACAJ,EAAAA,SAAS,CAAC,MAAMG,GAAG,CAACC,WAAJ,GAAkBgB,SAAlB,CAA4BD,OAA5B,CAAP,EAA6C,CAACA,OAAD,CAA7C,CAAT;AACA,SAAO,CAACD,IAAD,EAAOA,IAAI,CAACX,IAAL,IAAa,IAApB,EAA0BG,KAA1B,CAAP;AACD;;GAJeO,c;UACUf,c","sourcesContent":["import {useEffect} from \"react\"\nimport {atom, useRecoilState} from \"recoil\"\nimport * as fcl from \"@onflow/fcl\"\n\nexport const currentUser = atom({\n  key: \"CURRENT_USER\",\n  default: {addr: null, loggedIn: null, cid: null},\n})\n\nconst tools = {\n  logIn: fcl.logIn,\n  logOut: fcl.unauthenticate,\n  signUp: fcl.signUp,\n  changeUser: fcl.reauthenticate,\n}\n\nexport function useCurrentUser() {\n  const [user, setUser] = useRecoilState(currentUser)\n  useEffect(() => fcl.currentUser().subscribe(setUser), [setUser])\n  return [user, user.addr != null, tools]\n}\n"]},"metadata":{},"sourceType":"module"}