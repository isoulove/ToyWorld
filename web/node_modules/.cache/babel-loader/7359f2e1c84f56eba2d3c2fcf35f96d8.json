{"ast":null,"code":"var _jsxFileName = \"/Users/wuchao/flow/nft/ToyWorld/web/src/parts/account-item-cluster.comp.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState, Suspense } from \"react\";\nimport { useAccountItem } from \"../hooks/use-account-item.hook\";\nimport { useMarketItem } from \"../hooks/use-market-item.hook\";\nimport { useCurrentUser } from \"../hooks/use-current-user.hook\";\nimport { IDLE } from \"../global/constants\";\nimport { Tr, Td, Button, Spinner, Flex, Center, Text, Image, HStack } from \"@chakra-ui/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ItemImage = ({\n  typeID\n}) => {\n  _s();\n\n  // Lazy load SVG images for the kitty items.\n  let [item, setItemImage] = useState(\"\");\n  useEffect(() => {\n    async function getImage() {\n      let importedIcon = await import(`../svg/Items/item0${typeID}.svg`);\n      setItemImage(importedIcon.default);\n    }\n\n    if (typeID) getImage();\n  }, [typeID]);\n  return /*#__PURE__*/_jsxDEV(Image, {\n    maxW: \"64px\",\n    src: item\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 10\n  }, this);\n};\n\n_s(ItemImage, \"b3C5oUi27JX39f1MlU/6fFTL8HA=\");\n\n_c = ItemImage;\nexport function AccountItemCluster({\n  address,\n  id\n}) {\n  _s2();\n\n  const item = useAccountItem(address, id);\n  const listing = useMarketItem(address, id);\n  const [cu] = useCurrentUser();\n  const BUSY = item.status !== IDLE || listing.status !== IDLE;\n  if (address == null) return null;\n  if (id == null) return null;\n  return /*#__PURE__*/_jsxDEV(Tr, {\n    children: [/*#__PURE__*/_jsxDEV(Td, {\n      maxW: \"50px\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          as: item.forSale && \"del\",\n          children: [\"#\", item.itemID]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: [\"(\", item.typeID, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: /*#__PURE__*/_jsxDEV(ItemImage, {\n        typeID: item.typeID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), cu.addr === address && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !item.forSale ? /*#__PURE__*/_jsxDEV(Td, {\n        isNumeric: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"blue\",\n          size: \"sm\",\n          disabled: BUSY,\n          onClick: () => item.sell(\"10.0\"),\n          children: /*#__PURE__*/_jsxDEV(HStack, {\n            children: [BUSY && /*#__PURE__*/_jsxDEV(Spinner, {\n              mr: \"2\",\n              size: \"xs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 28\n            }, this), \" \", /*#__PURE__*/_jsxDEV(Text, {\n              children: \"List for 10 KIBBLE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Td, {\n        isNumeric: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          colorScheme: \"orange\",\n          disabled: BUSY,\n          onClick: listing.cancelListing,\n          children: /*#__PURE__*/_jsxDEV(HStack, {\n            children: [BUSY && /*#__PURE__*/_jsxDEV(Spinner, {\n              mr: \"2\",\n              size: \"xs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 28\n            }, this), \" \", /*#__PURE__*/_jsxDEV(Text, {\n              children: \"Unlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(AccountItemCluster, \"xJoCKPyQHfgNmerpDR/AHKbQU00=\", false, function () {\n  return [useAccountItem, useMarketItem, useCurrentUser];\n});\n\n_c2 = AccountItemCluster;\nexport default function WrappedAccountItemCluster(props) {\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Tr, {\n      children: [/*#__PURE__*/_jsxDEV(Td, {\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            children: [\"#\", props.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Center, {\n            ml: \"4\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              size: \"xs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Td, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Td, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Td, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(AccountItemCluster, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_c3 = WrappedAccountItemCluster;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ItemImage\");\n$RefreshReg$(_c2, \"AccountItemCluster\");\n$RefreshReg$(_c3, \"WrappedAccountItemCluster\");","map":{"version":3,"sources":["/Users/wuchao/flow/nft/ToyWorld/web/src/parts/account-item-cluster.comp.js"],"names":["React","useEffect","useState","Suspense","useAccountItem","useMarketItem","useCurrentUser","IDLE","Tr","Td","Button","Spinner","Flex","Center","Text","Image","HStack","ItemImage","typeID","item","setItemImage","getImage","importedIcon","default","AccountItemCluster","address","id","listing","cu","BUSY","status","forSale","itemID","addr","sell","cancelListing","WrappedAccountItemCluster","props"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, Suspense} from \"react\"\nimport {useAccountItem} from \"../hooks/use-account-item.hook\"\nimport {useMarketItem} from \"../hooks/use-market-item.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {\n  Tr,\n  Td,\n  Button,\n  Spinner,\n  Flex,\n  Center,\n  Text,\n  Image,\n  HStack,\n} from \"@chakra-ui/react\"\n\nexport const ItemImage = ({typeID}) => {\n  // Lazy load SVG images for the kitty items.\n  let [item, setItemImage] = useState(\"\")\n\n  useEffect(() => {\n    async function getImage() {\n      let importedIcon = await import(`../svg/Items/item0${typeID}.svg`)\n      setItemImage(importedIcon.default)\n    }\n    if (typeID) getImage()\n  }, [typeID])\n\n  return <Image maxW=\"64px\" src={item} />\n}\n\nexport function AccountItemCluster({address, id}) {\n  const item = useAccountItem(address, id)\n  const listing = useMarketItem(address, id)\n  const [cu] = useCurrentUser()\n\n  const BUSY = item.status !== IDLE || listing.status !== IDLE\n\n  if (address == null) return null\n  if (id == null) return null\n\n  return (\n    <Tr>\n      <Td maxW=\"50px\">\n        <Flex>\n          <Text as={item.forSale && \"del\"}>#{item.itemID}</Text>\n        </Flex>\n      </Td>\n      <Td>({item.typeID})</Td>\n      <Td>\n        <ItemImage typeID={item.typeID} />\n      </Td>\n      {cu.addr === address && (\n        <>\n          {!item.forSale ? (\n            <Td isNumeric>\n              <Button\n                colorScheme=\"blue\"\n                size=\"sm\"\n                disabled={BUSY}\n                onClick={() => item.sell(\"10.0\")}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />}{\" \"}\n                  <Text>List for 10 KIBBLE</Text>\n                </HStack>\n              </Button>\n            </Td>\n          ) : (\n            <Td isNumeric>\n              <Button\n                size=\"sm\"\n                colorScheme=\"orange\"\n                disabled={BUSY}\n                onClick={listing.cancelListing}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />} <Text>Unlist</Text>\n                </HStack>\n              </Button>\n            </Td>\n          )}\n        </>\n      )}\n    </Tr>\n  )\n}\n\nexport default function WrappedAccountItemCluster(props) {\n  return (\n    <Suspense\n      fallback={\n        <Tr>\n          <Td>\n            <Flex>\n              <Text>#{props.id}</Text>\n              <Center ml=\"4\">\n                <Spinner size=\"xs\" />\n              </Center>\n            </Flex>\n          </Td>\n          <Td />\n          <Td />\n          <Td />\n        </Tr>\n      }\n    >\n      <AccountItemCluster {...props} />\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}