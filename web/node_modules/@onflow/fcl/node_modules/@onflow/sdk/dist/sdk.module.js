import{sansPrefix as e,withPrefix as n}from"@onflow/util-address";import{invariant as t}from"@onflow/util-invariant";import{encode as r}from"@onflow/rlp";import{config as o}from"@onflow/config";export{config}from"@onflow/config";import{Transaction as a,SendTransactionRequest as i,AccessAPI as u,GetTransactionRequest as c,ExecuteScriptAtBlockIDRequest as s,ExecuteScriptAtBlockHeightRequest as l,ExecuteScriptAtLatestBlockRequest as f,GetAccountAtBlockHeightRequest as d,GetAccountAtLatestBlockRequest as m,GetEventsForHeightRangeRequest as g,GetEventsForBlockIDsRequest as h,GetBlockByIDRequest as p,GetBlockByHeightRequest as v,GetLatestBlockRequest as y,GetBlockHeaderByIDRequest as k,GetBlockHeaderByHeightRequest as b,GetLatestBlockHeaderRequest as I,GetCollectionByIDRequest as S,PingRequest as P}from"@onflow/protobuf";import{grpc as B}from"@improbable-eng/grpc-web";import{NodeHttpTransport as w}from"@improbable-eng/grpc-web-node-http-transport";import{template as A}from"@onflow/util-template";export{template as cadence,template as cdc}from"@onflow/util-template";function T(){return(T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var N,E='{\n  "tag":"UNKNOWN",\n  "assigns":{},\n  "status":"OK",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":null,\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}',L=new Set(Object.keys(JSON.parse(E))),j=function(){return JSON.parse(E)},O="abcdefghijklmnopqrstuvwxyz0123456789".split(""),_=function(){return O[~~(Math.random()*O.length)]},G=function(){return Array.from({length:10},_).join("")},C=function(e){return e.status="OK",e},U=function(e,n){return e.status="BAD",e.reason=n,e},D=function(e){return function(n){return n.tag=e,C(n)}},K=function(e,n){return void 0===n&&(n={}),function(r){var o;t("function"==typeof e||"object"==typeof e,"prepAccount must be passed an authorization function or an account object"),t(null!=n.role,"Account must have a role");var a=JSON.parse('{\n  "kind":"ACCOUNT",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),i=n.role,u=G();return r.accounts[u]=T({},a,{tempId:u},e="function"==typeof e?{resolve:e}:e,{role:T({},a.role,"object"==typeof e.role?e.role:{},(o={},o[i]=!0,o))}),"authorizer"===i?r.authorizations.push(u):r[i]=u,r}},R=function(e){return function(n){var t=G();return n.message.arguments.push(t),n.arguments[t]=JSON.parse('{\n  "kind":"ARGUMENT",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null\n}'),n.arguments[t].tempId=t,n.arguments[t].value=e.value,n.arguments[t].asArgument=e.asArgument,n.arguments[t].xform=e.xform,n.arguments[t].resolve=e.resolve,C(n)}},H=D("SCRIPT"),F=D("TRANSACTION"),z=D("GET_TRANSACTION_STATUS"),q=D("GET_TRANSACTION"),J=D("GET_ACCOUNT"),Y=D("GET_EVENTS"),W=D("GET_LATEST_BLOCK"),M=D("GET_BLOCK_BY_ID"),V=D("GET_BLOCK_BY_HEIGHT"),$=D("PING"),X=D("GET_BLOCK"),Q=D("GET_BLOCK_HEADER"),Z=D("GET_COLLECTION"),ee=function(e){return function(n){return n.tag===e}},ne=ee("UNKNOWN"),te=ee("SCRIPT"),re=ee("TRANSACTION"),oe=ee("GET_TRANSACTION_STATUS"),ae=ee("GET_TRANSACTION"),ie=ee("GET_ACCOUNT"),ue=ee("GET_EVENTS"),ce=ee("GET_LATEST_BLOCK"),se=ee("GET_BLOCK_BY_ID"),le=ee("GET_BLOCK_BY_HEIGHT"),fe=ee("PING"),de=ee("GET_BLOCK"),me=ee("GET_BLOCK_HEADER"),ge=ee("GET_COLLECTION"),he=function(e){return"OK"===e.status},pe=function(e){return"BAD"===e.status},ve=function(e){return e.reason},ye=function e(n,t){void 0===t&&(t=[]);try{return Promise.resolve(function(r,o){try{var a=Promise.resolve(n).then(function(r){if(n=function(e){for(var n=0,t=Object.keys(e);n<t.length;n++){var r=t[n];if(!L.has(r))throw new Error('"'+r+'" is an invalid root level Interaction property.')}return e}(r),pe(n))throw new Error("Interaction Error: "+n.reason);if(!t.length)return n;var o=t[0],a=t.slice(1);return Promise.resolve(o).then(function(t){if(rn(t))return e(t(n),a);if(tn(t)||!t)return e(n,a);if(function(e){if(!nn(e)||tn(e)||Ze(e))return!1;for(var n,t=function(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return x(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,void 0):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}(L);!(n=t()).done;)if(!e.hasOwnProperty(n.value))return!1;return!0}(t))return e(t,a);throw new Error("Invalid Interaction Composition")})})}catch(e){return o(e)}return a&&a.then?a.then(void 0,o):a}(0,function(e){throw e}))}catch(e){return Promise.reject(e)}},ke=function e(){var n=[].slice.call(arguments),t=n[0],r=n[1];return en(t)&&null==r?function(n){return e(n,t)}:ye(t,r)},be=function(e){return e},Ie=function(e,n,t){return null==e.assigns[n]?t:e.assigns[n]},Se=function(e,n){return function(t){return t.assigns[e]=n,C(t)}},Pe=function(e,n){return void 0===n&&(n=be),function(t){return t.assigns[e]=n(t.assigns[e],t),C(t)}},Be=function(e){return function(n){return delete n.assigns[e],C(n)}},we=function(e,n){return Buffer.from(e.padStart(2*n,0),"hex")},Ae=(N=Buffer.from("FLOW-V0.0-transaction").toString("hex"),Buffer.from(N.padEnd(64,0),"hex")).toString("hex"),Te=function(e){return Ae+e},xe=function(e){return we(e,8)},Ne=function(e){return Buffer.from(JSON.stringify(e),"utf8")},Ee=function(e){return Buffer.from(e,"utf8")},Le=function(e){return r(e).toString("hex")},je=function(e){return Ge(e),[Ee(e.cadence),e.arguments.map(Ne),(n=e.refBlock,we(n,32)),e.computeLimit,xe(e.proposalKey.address),e.proposalKey.keyId,e.proposalKey.sequenceNum,xe(e.payer),e.authorizers.map(xe)];var n},Oe=function(e){var n=_e(e);return e.payloadSigs.map(function(e){return{signerIndex:n.get(e.address),keyId:e.keyId,sig:e.sig}}).sort(function(e,n){return e.signerIndex>n.signerIndex?1:e.signerIndex<n.signerIndex?-1:e.keyId>n.keyId?1:e.keyId<n.keyId?-1:void 0}).map(function(e){return[e.signerIndex,e.keyId,(n=e.sig,Buffer.from(n,"hex"))];var n})},_e=function(e){var n=new Map,t=0,r=function(e){n.has(e)||(n.set(e,t),t++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),n},Ge=function(e){Re.forEach(function(n){return qe(e,n)}),He.forEach(function(n){return qe(e.proposalKey,n,"proposalKey")})},Ce=function(e){return"number"==typeof e},Ue=function(e){return"string"==typeof e},De=function(e){return null!==e&&"object"==typeof e},Ke=function(e){return De(e)&&e instanceof Array},Re=[{name:"cadence",check:Ue},{name:"arguments",check:Ke},{name:"refBlock",check:Ue,defaultVal:"0"},{name:"computeLimit",check:Ce},{name:"proposalKey",check:De},{name:"payer",check:Ue},{name:"authorizers",check:Ke}],He=[{name:"address",check:Ue},{name:"keyId",check:Ce},{name:"sequenceNum",check:Ce}],Fe=[{name:"payloadSigs",check:Ke}],ze=[{name:"address",check:Ue},{name:"keyId",check:Ce},{name:"sig",check:Ue}],qe=function(e,n,t,r){var o=n.name,a=n.check,i=n.defaultVal;if(null==e[o]&&null!=i&&(e[o]=i),null==e[o])throw Ye(o,t,r);if(!a(e[o]))throw We(o,t,r)},Je=function(e,n,t){return n?null==t?n+"."+e:n+"."+t+"."+e:e},Ye=function(e,n,t){return new Error("Missing field "+Je(e,n,t))},We=function(e,n,t){return new Error("Invalid field "+Je(e,n,t))},Me=function(e){try{var n=function(){if(re(e))return function(n,t){try{var r=(a=Ve(e),o=Xe(e),i=Te(Le(je(o))),Promise.resolve(Promise.all(a.map($e(e,i)))).then(function(){var n=function(e){var n=new Set([e.payer]);return Array.from(n)}(e),t=function(e){return Te(Le(function(e){return function(e){Fe.forEach(function(n){return qe(e,n)}),e.payloadSigs.forEach(function(e,n){ze.forEach(function(t){return qe(e,t,"payloadSigs",n)})})}(e),[je(e),Oe(e)]}(e)))}(T({},Xe(e),{payloadSigs:a.map(function(n){return{address:e.accounts[n].addr,keyId:e.accounts[n].keyId,sig:e.accounts[n].signature}})}));return Promise.resolve(Promise.all(n.map($e(e,t)))).then(function(){})}))}catch(e){return t(e)}var o,a,i;return r&&r.then?r.then(void 0,t):r}(0,function(n){throw console.error("Signatures",n,{ix:e}),n})}();return Promise.resolve(n&&n.then?n.then(function(n){return e}):e)}catch(e){return Promise.reject(e)}};function Ve(e){var n=new Set(e.authorizations);return n.add(e.proposer),n.delete(e.payer),Array.from(n)}function $e(n,t){return function(r){try{var o=n.accounts[r];return null!=o.signature?Promise.resolve():Promise.resolve(o.signingFunction(function(n,t,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:e(n.addr),keyId:n.keyId,roles:n.role,cadence:r.message.cadence,args:r.message.arguments.map(function(e){return r.arguments[e].asArgument}),data:{},interaction:r,voucher:Qe(r)}}catch(e){throw console.error("buildSignable",e),e}}(o,t,n))).then(function(e){n.accounts[r].signature=e.signature})}catch(e){return Promise.reject(e)}}}function Xe(n){return{cadence:n.message.cadence,refBlock:n.message.refBlock||null,computeLimit:n.message.computeLimit,arguments:n.message.arguments.map(function(e){return n.arguments[e].asArgument}),proposalKey:{address:e(n.accounts[n.proposer].addr),keyId:n.accounts[n.proposer].keyId,sequenceNum:n.accounts[n.proposer].sequenceNum},payer:e(n.accounts[n.payer].addr),authorizers:n.authorizations.map(function(t){return e(n.accounts[t].addr)}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[])}}var Qe=function(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(n){return e.arguments[n].asArgument}),proposalKey:{address:n(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:n(e.accounts[e.payer].addr),authorizers:e.authorizations.map(function(t){return n(e.accounts[t].addr)}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[]),payloadSigs:Ve(e).map(function(t){return{address:n(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})}},Ze=function(e){return"number"==typeof e},en=function(e){return Array.isArray(e)},nn=function(e){return null!==e&&"object"==typeof e},tn=function(e){return null==e},rn=function(e){return"function"==typeof e};function on(e){return void 0===e&&(e=[]),ke(j(),e)}var an=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')},un=function(e,n,t){try{return Promise.resolve(new Promise(function(r,o){B.unary(n,{request:t,host:e,onEnd:function(e){var n=e.statusMessage;e.status===B.Code.OK?r(e.message):o(new Error(n))}})}))}catch(e){return Promise.reject(e)}};B.setDefaultTransport(w());var cn=function(e){return Buffer.from(e,"hex")},sn=function(e){return Buffer.from(e.padStart(16,0),"hex")},ln=function(e){return Buffer.from(e).toString("hex")},fn=function(e){return Buffer.from(JSON.stringify(e),"utf8")},dn=function(e){return Buffer.from(e).toString("hex")},mn=function(e){return Buffer.from(e).toString("hex")},gn=function(e){return Buffer.from(e).toString("hex")},hn=function(e){return Buffer.from(e).toString("hex")},pn=function(e){return Buffer.from(e).toString("hex")},vn=function(e){return Buffer.from(e).toString("hex")},yn=function(e){return Buffer.from(e).toString("hex")},kn=function(e){return Buffer.from(e).toString("hex")},bn=function(t,r){void 0===r&&(r={});try{var B=function(o){return r.node=o,Promise.resolve(t).then(function(o){switch(t=o,!0){case re(t):return r.sendTransaction?r.sendTransaction(t,r):function(n,t){void 0===t&&(t={});try{var r=t.unary||un;return Promise.resolve(n).then(function(o){n=o;var c=new a;c.setScript(function(e){return Buffer.from(e,"utf8")}(n.message.cadence)),c.setGasLimit(n.message.computeLimit),c.setReferenceBlockId(n.message.refBlock?cn(n.message.refBlock):null),c.setPayer(sn(e(n.accounts[n.payer].addr))),n.message.arguments.forEach(function(e){return c.addArguments(function(e){return Buffer.from(JSON.stringify(e),"utf8")}(n.arguments[e].asArgument))}),n.authorizations.map(function(e){return n.accounts[e].addr}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[]).forEach(function(n){return c.addAuthorizers(sn(e(n)))});var s=new a.ProposalKey;s.setAddress(sn(e(n.accounts[n.proposer].addr))),s.setKeyId(n.accounts[n.proposer].keyId),s.setSequenceNumber(n.accounts[n.proposer].sequenceNum),c.setProposalKey(s);for(var l=0,f=Object.values(n.accounts);l<f.length;l++){var d=f[l];try{if(!d.role.payer&&null!=d.signature){var m=new a.Signature;m.setAddress(sn(e(d.addr))),m.setKeyId(d.keyId),m.setSignature(cn(d.signature)),c.addPayloadSignatures(m)}}catch(e){throw console.error("Trouble applying payload signature",{acct:d,ix:n}),e}}for(var g=0,h=Object.values(n.accounts);g<h.length;g++){var p=h[g];try{if(p.role.payer&&null!=p.signature){var v=new a.Signature;v.setAddress(sn(e(p.addr))),v.setKeyId(p.keyId),v.setSignature(cn(p.signature)),c.addEnvelopeSignatures(v)}}catch(e){throw console.error("Trouble applying envelope signature",{acct:p,ix:n}),e}}var y=new i;y.setTransaction(c);var k=Date.now();return Promise.resolve(r(t.node,u.SendTransaction,y)).then(function(e){var t,r=Date.now(),o=an();return o.tag=n.tag,o.transactionId=(t=e.getId_asU8(),Buffer.from(t).toString("hex")),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:o.transactionId,delta:r-k}})),o})})}catch(e){return Promise.reject(e)}}(t,r);case oe(t):return r.sendGetTransactionStatus?r.sendGetTransactionStatus(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){e=r;var o=new c;return o.setId(Buffer.from(e.transaction.id,"hex")),Promise.resolve(t(n.node,u.GetTransactionResult,o)).then(function(n){var t=n.getEventsList(),r=an();return r.tag=e.tag,r.transactionStatus={status:n.getStatus(),statusCode:n.getStatusCode(),errorMessage:n.getErrorMessage(),events:t.map(function(e){return{type:e.getType(),transactionId:(n=e.getTransactionId_asU8(),Buffer.from(n).toString("hex")),transactionIndex:e.getTransactionIndex(),eventIndex:e.getEventIndex(),payload:JSON.parse(Buffer.from(e.getPayload_asU8()).toString("utf8"))};var n})},r})})}catch(e){return Promise.reject(e)}}(t,r);case ae(t):return r.sendGetTransaction?r.sendGetTransaction(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){e=r;var o=new c;return o.setId(Buffer.from(e.transaction.id,"hex")),Promise.resolve(t(n.node,u.GetTransaction,o)).then(function(n){var t=an();t.tag=e.tag;var r,o=function(e){return{address:ln(e.getAddress_asU8()),keyId:e.getKeyId(),signature:ln(e.getSignature_asU8())}},a=n.getTransaction();return t.transaction={script:Buffer.from(a.getScript_asU8()).toString("utf8"),args:a.getArgumentsList().map(function(e){return JSON.parse(Buffer.from(e).toString("utf8"))}),referenceBlockId:ln(a.getReferenceBlockId_asU8()),gasLimit:a.getGasLimit(),proposalKey:(r=a.getProposalKey(),{address:ln(r.getAddress_asU8()),keyId:r.getKeyId(),sequenceNumber:r.getSequenceNumber()}),payer:ln(a.getPayer_asU8()),authorizers:a.getAuthorizersList().map(ln),payloadSignatures:a.getPayloadSignaturesList().map(o),envelopeSignatures:a.getEnvelopeSignaturesList().map(o)},t})})}catch(e){return Promise.reject(e)}}(t,r);case te(t):return r.sendExecuteScript?r.sendExecuteScript(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){function o(){var n=an();return n.tag=e.tag,n.encodedData=JSON.parse(Buffer.from(i.getValue_asU8()).toString("utf8")),n}var a,i;e=r;var c=function(){if(e.block.id){(a=new s).setBlockId(Buffer.from(e.block.id,"hex"));var r=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return a.addArguments(fn(e.arguments[n].asArgument))}),a.setScript(r),Promise.resolve(t(n.node,u.ExecuteScriptAtBlockID,a)).then(function(e){i=e})}var o=function(){if(e.block.height){(a=new l).setBlockHeight(Number(e.block.height));var r=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return a.addArguments(fn(e.arguments[n].asArgument))}),a.setScript(r),Promise.resolve(t(n.node,u.ExecuteScriptAtBlockHeight,a)).then(function(e){i=e})}a=new f;var o=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return a.addArguments(fn(e.arguments[n].asArgument))}),a.setScript(o),Promise.resolve(t(n.node,u.ExecuteScriptAtLatestBlock,a)).then(function(e){i=e})}();if(o&&o.then)return o.then(function(){})}();return c&&c.then?c.then(o):o()})}catch(e){return Promise.reject(e)}}(t,r);case ie(t):return r.sendGetAccount?r.sendGetAccount(t,r):function(t,r){void 0===r&&(r={});try{var o=r.unary||un;return Promise.resolve(t).then(function(a){var i,c=(t=a).block.height?new d:new m;return t.block.height&&c.setBlockHeight(Number(t.block.height)),c.setAddress((i=e(t.account.addr),Buffer.from(i.padStart(16,0),"hex"))),Promise.resolve(o(r.node,t.block.height?u.GetAccountAtBlockHeight:u.GetAccountAtLatestBlock,c)).then(function(e){var r=an();r.tag=t.tag;var o,a=e.getAccount(),i=(o=a.getContractsMap())?o.getEntryList().reduce(function(e,n){var t;return T({},e,((t={})[n[0]]=Buffer.from(n[1]||new UInt8Array).toString("utf8"),t))},{}):{};return r.account={address:n(dn(a.getAddress_asU8())),balance:a.getBalance(),code:Buffer.from(a.getCode_asU8()||new UInt8Array).toString("utf8"),contracts:i,keys:a.getKeysList().map(function(e){return{index:e.getIndex(),publicKey:dn(e.getPublicKey_asU8()),signAlgo:e.getSignAlgo(),hashAlgo:e.getHashAlgo(),weight:e.getWeight(),sequenceNumber:e.getSequenceNumber(),revoked:e.getRevoked()}})},r})})}catch(e){return Promise.reject(e)}}(t,r);case ue(t):return r.sendGetEvents?r.sendGetEvents(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){function o(){var n=an();n.tag=e.tag;var t=a.getResultsList();return n.events=t.reduce(function(e,n){var t=mn(n.getBlockId_asU8()),r=n.getBlockHeight(),o=n.getBlockTimestamp().toDate().toISOString();return n.getEventsList().forEach(function(n){e.push({blockId:t,blockHeight:r,blockTimestamp:o,type:n.getType(),transactionId:mn(n.getTransactionId_asU8()),transactionIndex:n.getTransactionIndex(),eventIndex:n.getEventIndex(),payload:JSON.parse(Buffer.from(n.getPayload_asU8()).toString("utf8"))})}),e},[]),n}var a,i=(e=r).events.start?new g:new h;i.setType(e.events.eventType);var c=e.events.start?(i.setStartHeight(Number(e.events.start)),i.setEndHeight(Number(e.events.end)),Promise.resolve(t(n.node,u.GetEventsForHeightRange,i)).then(function(e){a=e})):(e.events.blockIds.forEach(function(e){return i.addBlockIds(Buffer.from(e,"hex"))}),Promise.resolve(t(n.node,u.GetEventsForBlockIDs,i)).then(function(e){a=e}));return c&&c.then?c.then(o):o()})}catch(e){return Promise.reject(e)}}(t,r);case ce(t):return r.sendGetLatestBlock?r.sendGetLatestBlock(t,r):function(e,n){void 0===n&&(n={});try{return Promise.resolve(e).then(function(t){e=t;var r=new y;return e.latestBlock&&e.latestBlock.isSealed&&(r.setIsSealed(e.latestBlock.isSealed),console.error("\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")),e.block&&e.block.isSealed&&r.setIsSealed(e.block.isSealed),Promise.resolve(un(n.node,u.GetLatestBlock,r)).then(function(n){var t=n.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),a=t.getSignaturesList(),i=an();return i.tag=e.tag,i.block={id:pn(t.getId_asU8()),parentId:pn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:pn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:pn(e.getBlockId_asU8()),executionReceiptId:pn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:a},i})})}catch(e){return Promise.reject(e)}}(t,r);case de(t):return r.sendGetBlock?r.sendGetBlock(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){function o(){var n=i.getBlock(),t=n.getCollectionGuaranteesList(),r=n.getBlockSealsList(),o=n.getSignaturesList().map(gn),a=an();return a.tag=e.tag,a.block={id:gn(n.getId_asU8()),parentId:gn(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp().toDate().toISOString(),collectionGuarantees:t.map(function(e){return{collectionId:gn(e.getCollectionId_asU8()),signatures:e.getSignaturesList().map(gn)}}),blockSeals:r.map(function(e){return{blockId:gn(e.getBlockId_asU8()),executionReceiptId:gn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList().map(gn),resultApprovalSignatures:e.getResultApprovalSignaturesList().map(gn)}}),signatures:o},a}var a,i;e=r;var c=function(){if(e.block.id)return(a=new p).setId(Buffer.from(e.block.id,"hex")),Promise.resolve(t(n.node,u.GetBlockByID,a)).then(function(e){i=e});var r=e.block.height?((a=new v).setHeight(Number(e.block.height)),Promise.resolve(t(n.node,u.GetBlockByHeight,a)).then(function(e){i=e})):(a=new y,e.block&&e.block.isSealed&&a.setIsSealed(e.block.isSealed),Promise.resolve(t(n.node,u.GetLatestBlock,a)).then(function(e){i=e}));return r&&r.then?r.then(function(){}):void 0}();return c&&c.then?c.then(o):o()})}catch(e){return Promise.reject(e)}}(t,r);case me(t):return r.sendGetBlockHeader?r.sendGetBlockHeader(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){function o(){var n=i.getBlock(),t=an();return t.tag=e.tag,t.blockHeader={id:hn(n.getId_asU8()),parentId:hn(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp().toDate().toISOString()},t}var a,i;e=r;var c=function(){if(e.block.id)return(a=new k).setId(Buffer.from(e.block.id,"hex")),Promise.resolve(t(n.node,u.GetBlockHeaderByID,a)).then(function(e){i=e});var r=e.block.height?((a=new b).setHeight(Number(e.block.height)),Promise.resolve(t(n.node,u.GetBlockHeaderByHeight,a)).then(function(e){i=e})):(a=new I,e.block&&e.block.isSealed&&a.setIsSealed(e.block.isSealed),Promise.resolve(t(n.node,u.GetLatestBlockHeader,a)).then(function(e){i=e}));return r&&r.then?r.then(function(){}):void 0}();return c&&c.then?c.then(o):o()})}catch(e){return Promise.reject(e)}}(t,r);case se(t):return r.sendGetBlockById?r.sendGetBlockById(t,r):function(e,n){void 0===n&&(n={});try{return Promise.resolve(e).then(function(t){e=t;var r=new p;return r.setId(Buffer.from(e.block.id,"hex")),Promise.resolve(un(n.node,u.GetBlockByID,r)).then(function(n){var t=n.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),a=t.getSignaturesList(),i=an();return i.tag=e.tag,i.block={id:vn(t.getId_asU8()),parentId:vn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:vn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:vn(e.getBlockId_asU8()),executionReceiptId:vn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:a},i})})}catch(e){return Promise.reject(e)}}(t,r);case le(t):return r.sendGetBlockByHeight?r.sendGetBlockByHeight(t,r):function(e,n){void 0===n&&(n={});try{return Promise.resolve(e).then(function(t){e=t;var r=new v;return r.setHeight(Number(e.block.height)),Promise.resolve(un(n.node,u.GetBlockByHeight,r)).then(function(n){var t=n.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),a=t.getSignaturesList(),i=an();return i.tag=e.tag,i.block={id:yn(t.getId_asU8()),parentId:yn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:yn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:yn(e.getBlockId_asU8()),executionReceiptId:yn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:a},i})})}catch(e){return Promise.reject(e)}}(t,r);case ge(t):return r.sendGetCollection?r.sendGetCollection(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){e=r;var o=new S;return o.setId(Buffer.from(e.collection.id,"hex")),Promise.resolve(t(n.node,u.GetCollectionByID,o)).then(function(n){var t=n.getCollection(),r=an();return r.tag=e.tag,r.collection={id:kn(t.getId_asU8()),transactionIds:t.getTransactionIdsList().map(kn)},r})})}catch(e){return Promise.reject(e)}}(t,r);case fe(t):return r.sendPing?r.sendPing(t,r):function(e,n){void 0===n&&(n={});try{var t=n.unary||un;return Promise.resolve(e).then(function(r){e=r;var o=new P;return Promise.resolve(t(n.node,u.Ping,o)).then(function(n){var t=an();return t.tag=e.tag,t})})}catch(e){return Promise.reject(e)}}(t,r);default:return t}})},w=r.node;return Promise.resolve(w?B(w):Promise.resolve(o().get("accessNode.api")).then(B))}catch(e){return Promise.reject(e)}};function In(e){return void 0===e&&(e=null),ke([X,function(n){return n.block.isSealed=e,C(n)}])}function Sn(n){return ke([J,function(t){return t.account.addr=e(n),C(t)}])}var Pn=function(e,n,t){try{try{return Promise.resolve(Number(e))}catch(e){throw new Error("Decode Number Error : "+t.join("."))}}catch(e){return Promise.reject(e)}},Bn=function(e){return Promise.resolve(e)},wn=function(e,n,t){try{return Promise.resolve(e.fields.reduce(function(e,r){try{return Promise.resolve(e).then(function(o){return e=o,Promise.resolve(xn(r.value,n,[].concat(t,[r.name]))).then(function(n){return e[r.name]=n,e})})}catch(e){return Promise.reject(e)}},Promise.resolve({}))).then(function(t){var r=e.id&&Tn(n,e.id);return r?Promise.resolve(r(t)):t})}catch(e){return Promise.reject(e)}},An={UInt:Pn,Int:Pn,UInt8:Pn,Int8:Pn,UInt16:Pn,Int16:Pn,UInt32:Pn,Int32:Pn,UInt64:Pn,Int64:Pn,UInt128:Pn,Int128:Pn,UInt256:Pn,Int256:Pn,Word8:Pn,Word16:Pn,Word32:Pn,Word64:Pn,UFix64:Bn,Fix64:Bn,String:Bn,Character:Bn,Bool:Bn,Address:Bn,Void:function(){return Promise.resolve(null)},Optional:function(e,n,t){return Promise.resolve(e?xn(e,n,t):null)},Reference:function(e){try{return Promise.resolve({address:e.address,type:e.type})}catch(e){return Promise.reject(e)}},Array:function(e,n,t){try{return Promise.resolve(Promise.all(e.map(function(e){return new Promise(function(r){try{return Promise.resolve(xn(e,n,[].concat(t,[e.type]))).then(r)}catch(e){return Promise.reject(e)}})})))}catch(e){return Promise.reject(e)}},Dictionary:function(e,n,t){try{return Promise.resolve(e.reduce(function(e,r){try{return Promise.resolve(e).then(function(o){return e=o,Promise.resolve(xn(r.key,n,[].concat(t,[r.key]))).then(function(o){return Promise.resolve(xn(r.value,n,[].concat(t,[r.key]))).then(function(n){return e[o]=n,e})})})}catch(e){return Promise.reject(e)}},Promise.resolve({})))}catch(e){return Promise.reject(e)}},Event:wn,Resource:wn,Struct:wn},Tn=function(e,n){var t=Object.keys(e).find(function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(n):e===n});return n&&t&&e[t]},xn=function(e,n,t){try{var r=Tn(n,e.type);if(!r)throw new Error("Undefined Decoder Error: "+e.type+"@"+t.join("."));return Promise.resolve(r(e.value,n,t))}catch(e){return Promise.reject(e)}},Nn=function(e,n,t){void 0===n&&(n={}),void 0===t&&(t=[]);var r=T({},An,n);return Promise.resolve(xn(e,r,t))},En=function(e,n){void 0===n&&(n={});try{var t,r=T({},An,n),o=e.encodedData?(t=1,Promise.resolve(Nn(e.encodedData,r))):e.transactionStatus?(t=1,Promise.resolve(Promise.all(e.transactionStatus.events.map(function(e){try{var n=e.eventIndex,t=e.transactionIndex,o=e.transactionId,a=e.type;return Promise.resolve(Nn(e.payload,r)).then(function(e){return{type:a,transactionId:o,transactionIndex:t,eventIndex:n,data:e}})}catch(e){return Promise.reject(e)}}))).then(function(n){return T({},e.transactionStatus,{events:n})})):e.transaction?(t=1,e.transaction):e.events?(t=1,Promise.resolve(Promise.all(e.events.map(function(e){try{var n=e.eventIndex,t=e.transactionIndex,o=e.transactionId,a=e.type,i=e.blockTimestamp,u=e.blockHeight,c=e.blockId;return Promise.resolve(Nn(e.payload,r)).then(function(e){return{blockId:c,blockHeight:u,blockTimestamp:i,type:a,transactionId:o,transactionIndex:t,eventIndex:n,data:e}})}catch(e){return Promise.reject(e)}})))):e.account?(t=1,e.account):e.block?(t=1,e.block):e.blockHeader?(t=1,e.blockHeader):e.latestBlock?(console.error("\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;"),t=1,e.latestBlock):e.transactionId?(t=1,e.transactionId):e.collection?(t=1,e.collection):void 0;return Promise.resolve(o&&o.then?o.then(function(e){return t?e:null}):t?o:null)}catch(e){return Promise.reject(e)}};function Ln(e){return function(n){try{return re(n)?n.message.refBlock?Promise.resolve(C(n)):Promise.resolve(function(e){try{var n;return Promise.resolve(ke(j(),[In()])).then(function(t){return n=t,Promise.resolve(bn(n,e)).then(function(e){return n=e,Promise.resolve(En(n)).then(function(e){return(n=e).id})})})}catch(e){return Promise.reject(e)}}(e)).then(function(e){return n.message.refBlock=e,C(n)}):Promise.resolve(C(n))}catch(e){return Promise.reject(e)}}}var jn=function(e){try{var n=function(){if(re(e)||te(e)){var n=function(){return t(_n(r),"Cadence needs to be a string at this point."),Promise.resolve(o().where(/^0x/).then(function(e){return Object.entries(e).reduce(function(e,n){return e.replace(n[0],n[1])},r)})).then(function(n){e.message.cadence=n})},r=Ie(e,"ix.cadence");t(On(r)||_n(r),"Cadence needs to be a function or a string.");var a=function(){if(On(r))return Promise.resolve(r({})).then(function(e){r=e})}();return a&&a.then?a.then(n):n()}}();return Promise.resolve(n&&n.then?n.then(function(){return e}):e)}catch(e){return Promise.reject(e)}},On=function(e){return"function"==typeof e},_n=function(e){return"string"==typeof e},Gn=function(e){try{if(re(e)||te(e))for(var n=0,t=Object.entries(e.arguments);n<t.length;n++){var r=t[n];e.arguments[r[0]].asArgument=Un(r[1])}return Promise.resolve(e)}catch(e){return Promise.reject(e)}},Cn=function(e){return"function"==typeof e};function Un(e){return t(null!=typeof e.xform,"No type specified for argument: "+e.value),Cn(e.xform)?e.xform(e.value):Cn(e.xform.asArgument)?e.xform.asArgument(e.value):void t(!1,"Invalid Argument",e)}var Dn="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Kn(e,n,t){if(!e.s){if(t instanceof Rn){if(!t.s)return void(t.o=Kn.bind(null,e,n));1&n&&(n=t.s),t=t.v}if(t&&t.then)return void t.then(Kn.bind(null,e,n),Kn.bind(null,e,2));e.s=n,e.v=t;var r=e.o;r&&r(e)}}var Rn=function(){function e(){}return e.prototype.then=function(n,t){var r=new e,o=this.s;if(o){var a=1&o?n:t;if(a){try{Kn(r,1,a(this.v))}catch(e){Kn(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?Kn(r,1,n?n(o):o):t?Kn(r,1,t(o)):Kn(r,2,o)}catch(e){Kn(r,2,e)}},r},e}();function Hn(e){return e instanceof Rn&&1&e.s}var Fn=function(e){try{var n=function(){if(re(e))return function(n,t){try{var r=Promise.resolve(zn(e,Object.values(e.accounts))).then(function(){return Promise.resolve(zn(e,Object.values(e.accounts))).then(function(){})})}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(0,function(e){throw console.error("=== SAD PANDA ===\n\n",e,"\n\n=== SAD PANDA ==="),e})}();return Promise.resolve(n&&n.then?n.then(function(n){return e}):e)}catch(e){return Promise.reject(e)}},zn=function e(n,r,o,a){void 0===a&&(a=3);try{var i=function(){o&&(n.authorizations=n.authorizations.map(function(e){return e===o.tempId?u:e}).reduce(function(e,n){return Array.isArray(n)?[].concat(e,n):[].concat(e,[n])},[]))};t(a,"Account Resolve Recursion Limit Exceeded",{ix:n,accounts:r});var u=[],c=function(e,n,t){if("function"==typeof e[Dn]){var r,o,a,i=e[Dn]();if(function e(t){try{for(;!(r=i.next()).done;)if((t=n(r.value))&&t.then){if(!Hn(t))return void t.then(e,a||(a=Kn.bind(null,o=new Rn,2)));t=t.v}o?Kn(o,1,t):o=t}catch(e){Kn(o||(o=new Rn),2,e)}}(),i.return){var u=function(e){try{r.done||i.return()}catch(e){}return e};if(o&&o.then)return o.then(u,function(e){throw u(e)});u()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],s=0;s<e.length;s++)c.push(e[s]);return function(e,n,t){var r,o,a=-1;return function t(i){try{for(;++a<e.length;)if((i=n(a))&&i.then){if(!Hn(i))return void i.then(t,o||(o=Kn.bind(null,r=new Rn,2)));i=i.v}r?Kn(r,1,i):r=i}catch(e){Kn(r||(r=new Rn),2,e)}}(),r}(c,function(e){return n(c[e])})}(r,function(t){function r(){function r(){i.tempId!=t.tempId&&delete n.accounts[i.tempId]}var c=function(){if(Array.isArray(t))return Promise.resolve(e(n,t,i,a-1)).then(function(){});n.accounts[t.tempId]=n.accounts[t.tempId]||t,n.accounts[t.tempId].role.proposer=n.accounts[t.tempId].role.proposer||t.role.proposer,n.accounts[t.tempId].role.payer=n.accounts[t.tempId].role.payer||t.role.payer,n.accounts[t.tempId].role.authorizer=n.accounts[t.tempId].role.authorizer||t.role.authorizer,n.accounts[t.tempId].role.proposer&&n.proposer===i.tempId&&(n.proposer=t.tempId),n.accounts[t.tempId].role.payer&&n.payer===i.tempId&&(n.payer=t.tempId),n.accounts[t.tempId].role.authorizer&&(o?u=[].concat(u,[t.tempId]):n.authorizations=n.authorizations.map(function(e){return e===i.tempId?t.tempId:e}))}();return c&&c.then?c.then(r):r()}var i=o||t,c=function(){if(qn(t.resolve))return Promise.resolve(t.resolve(t,function(e,n){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map(function(e){return n.arguments[e].asArgument}),data:{},interaction:n,voucher:Qe(n)}}catch(e){throw console.error("buildPreSignable",e),e}}(t,n))).then(function(e){t=e})}();return c&&c.then?c.then(r):r()});return Promise.resolve(c&&c.then?c.then(i):i())}catch(e){return Promise.reject(e)}},qn=function(e){return"function"==typeof e},Jn=function(e){try{var n=Ie(e,"ix.validators",[]);return Promise.resolve(ke(e,n.map(function(e){return function(n){return e(n,{Ok:C,Bad:U})}})))}catch(e){return Promise.reject(e)}},Yn=ke([jn,Gn,Fn,function(e){try{var n=function(){if(re(e)&&null==e.message.refBlock)return Promise.resolve(bn(on([In()])).then(En)).then(function(n){e.message.refBlock=n.id})}();return Promise.resolve(n&&n.then?n.then(function(){return e}):e)}catch(e){return Promise.reject(e)}},function(e){try{var n=function(){if(re(e)){var n=Object.values(e.accounts).find(function(e){return e.role.proposer});t(n,"Transactions require a proposer");var r=function(){if(null==n.sequenceNum)return Promise.resolve(on([Sn(n.addr)])).then(function(t){return Promise.resolve(bn(t).then(En).then(function(e){return e.keys}).then(function(e){return e.find(function(e){return e.index===n.keyId})}).then(function(e){return e.sequenceNumber})).then(function(t){e.accounts[n.tempId].sequenceNum=t})})}();if(r&&r.then)return r.then(function(){})}}();return Promise.resolve(n&&n.then?n.then(function(){return e}):e)}catch(e){return Promise.reject(e)}},Me,function(n){try{for(var t=0,r=Object.keys(n.accounts);t<r.length;t++){var o=r[t];n.accounts[o].addr=e(n.accounts[o].addr)}return Promise.resolve(n)}catch(e){return Promise.reject(e)}},Jn]),Wn=function(e,n){void 0===e&&(e=[]),void 0===n&&(n={});try{return Promise.resolve(o().get("sdk.send",n.send||bn)).then(function(t){return Promise.resolve(o().get("sdk.resolve",n.resolve||Yn)).then(function(r){return Array.isArray(e)&&(e=ke(j(),e)),Promise.resolve(r(e)).then(function(e){return t(e,n)})})})}catch(e){return Promise.reject(e)}},Mn=function(e){try{return Promise.resolve(o().where(/^decoder\./)).then(function(n){var t=Object.entries(n).map(function(e){var n=e[0],t=e[1];return[n="/"+n.replace(/^decoder\./,"")+"$/",t]});return En(e,Object.fromEntries(t))})}catch(e){return Promise.reject(e)}};function Vn(){var e=[].slice.call(arguments),n=e[1]||("object"==typeof e[0]?e[0]:void 0),t="boolean"==typeof e[0]?e[0]:void 0;return"object"==typeof e[0]&&console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),Wn([In(t)],n).then(En)}function $n(e,n){return Wn([Sn(e)],n).then(En)}function Xn(e){return void 0===e&&(e=[]),ke(e.map(function(e){return K(e,{role:"authorizer"})}))}function Qn(e,n,t,r){return{addr:e,signingFunction:n,keyId:t,sequenceNum:r}}function Zn(e){return Pe("ix.validators",function(n){return Array.isArray(n)?n.push(e):[e]})}function et(e){return ke([function(n){return n.block.height=e,n},Zn(function(e){if("boolean"==typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e})])}function nt(e){return ke([function(n){return n.block.id=e,C(n)},Zn(function(e,n){var t=n.Ok,r=n.Bad;return ie(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):t(e)})])}function tt(e,n,t){return void 0===n&&void 0===t||console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),ke([Y,function(r){return r.events.eventType=e,r.events.start=n,r.events.end=t,C(r)}])}function rt(e,n,t){return ke([Y,function(r){return r.events.eventType=e,r.events.start=n,r.events.end=t,C(r)}])}function ot(e,n){return void 0===n&&(n=[]),ke([Y,function(t){return t.events.eventType=e,t.events.blockIds=n,C(t)}])}function at(e){return void 0===e&&(e=null),ke([Q,function(n){return n.block.isSealed=e,C(n)}])}function it(e){return void 0===e&&(e=!1),console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),ke([W,function(n){return n.block.isSealed=e,C(n)}])}function ut(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),ke([M,function(n){return n.block.ids=[e],C(n)}])}function ct(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),ke([V,function(n){return n.block.height=e,C(n)}])}function st(e){return void 0===e&&(e=null),ke([Z,function(n){return n.collection.id=e,n}])}function lt(e){return ke([z,function(n){return n.transaction.id=e,C(n)}])}function ft(e){return ke([q,function(n){return n.transaction.id=e,C(n)}])}function dt(e){return function(n){return n.message.computeLimit=e,n}}function mt(e){return void 0===e&&(e=[]),ke(e.map(R))}function gt(e,n){return{value:e,xform:n}}var ht=function(e){try{return Promise.resolve(K(e,{role:"proposer"}))}catch(e){return Promise.reject(e)}},pt=function(e){try{return Promise.resolve(K(e,{role:"payer"}))}catch(e){return Promise.reject(e)}};function vt(){return $}function yt(e){return ke([function(n){return n.message.refBlock=e,C(n)}])}function kt(){return ke([H,Se("ix.cadence",A.apply(void 0,[].slice.call(arguments)))])}var bt=[];function It(){return ke([F,Se("ix.cadence",A.apply(void 0,[].slice.call(arguments))),function(e){return e.message.computeLimit=e.message.computeLimit||10,e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||bt,C(e)}])}function St(){var e=[].slice.call(arguments);if(e.length>1){var n=e,t=n[0],r=n[1];return St(function(e,n){var o=n.Bad;return t?(0,n.Ok)(e):o(e,r)})}var o=e[0];return function(e){return o(e,{Ok:C,Bad:U})}}function Pt(e){return console.error("\n      %cFCL/SDK Deprecation Notice\n      ============================\n\n      The resolver sdk.resolveParams is being replaced with the package @onflow/sdk-resolve-cadence\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0002-deprecate-resolve-params-resolver\n\n      ============================\n    ","font-weight:bold;font-family:monospace;"),jn(e)}var Bt=function(e){return n={name:"params",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.error("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+n.name+" builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+n.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var n},wt=function(e){return n={name:"param",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+n.name+" builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+n.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var n};export{$n as account,gt as arg,mt as args,et as atBlockHeight,nt as atBlockId,Qn as authorization,Xn as authorizations,on as build,Mn as decode,Be as destroy,Ie as get,Sn as getAccount,In as getBlock,ct as getBlockByHeight,ut as getBlockById,at as getBlockHeader,st as getCollection,tt as getEvents,rt as getEventsAtBlockHeightRange,ot as getEventsAtBlockIds,it as getLatestBlock,ft as getTransaction,lt as getTransactionStatus,j as interaction,St as invariant,pe as isBad,ie as isGetAccount,de as isGetBlock,le as isGetBlockByHeight,se as isGetBlockById,me as isGetBlockHeader,ge as isGetCollection,ue as isGetEvents,ce as isGetLatestBlock,ae as isGetTransaction,oe as isGetTransactionStatus,he as isOk,fe as isPing,te as isScript,re as isTransaction,ne as isUnknown,Vn as latestBlock,dt as limit,wt as param,Bt as params,pt as payer,vt as ping,ke as pipe,ht as proposer,Se as put,yt as ref,Yn as resolve,Fn as resolveAccounts,Gn as resolveArguments,Pt as resolveParams,Ln as resolveRefBlockId,Me as resolveSignatures,Jn as resolveValidators,kt as script,Wn as send,It as transaction,Pe as update,Zn as validator,ve as why};
//# sourceMappingURL=sdk.module.js.map
